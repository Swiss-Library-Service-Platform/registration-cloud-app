<div class="user-header" fxLayout="row">
  <button mat-flat-button color="secondary" (click)="navigateBack()">
    <mat-icon inline=true>arrow_back_ios</mat-icon>
    {{ 'General.BackToMenu' | translate }}
  </button>
  <span >
    <mat-icon size="20">account_circle</mat-icon>
    <div class="user-header-text">   {{currentFullName}} </div>
  </span>
</div>
<br>

<h2> {{'Blocks.CurrentBlockTitle' | translate}}</h2>
<!-- Current Block -->
<mat-card>
  <mat-card-content>
    <div *ngIf="(currentUserBlocks | json) != ({} | json)" class="warning">
      {{'Blocks.ExistingBlocks' | translate}}
    </div>
    <div *ngIf="(currentUserBlocks | json) == ({} | json)">
      {{'Blocks.NoBlocks' | translate}}
    </div>
   
  </mat-card-content>
</mat-card>
<!-- Double Registration -->
<h2> {{'Main.Block' | translate}}</h2>
<mat-card>
  <mat-card-header>
    <mat-card-title>
      {{'Blocks.DoubleRegistrations' | translate}}
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div *ngIf="currentUserBlocks['02']">
      {{'Blocks.CreatedOn' | translate}} {{getDateString(currentUserBlocks['02']['created_date'])}} <br>
      {{'Blocks.ExpiringOn' | translate}} {{getDateString(currentUserBlocks['02']['expiry_date'])}} <br>
      {{'Blocks.Note' | translate}}: {{currentUserBlocks['02']['block_note']}}
    </div>
    <div *ngIf="!currentUserBlocks['02']">
      <mat-form-field appearance="fill">
        <mat-label>{{'Blocks.Comment' | translate}}</mat-label>
        <input matInput #first>
      </mat-form-field>
    </div>
    <mat-action-row  *ngIf="currentUserBlocks['02']">
      <button mat-flat-button color="secondary" (click)="clear()" >
        <mat-icon inline=true>delete</mat-icon>{{'Blocks.RemoveBlock' | translate}}
      </button>
    </mat-action-row>
    <mat-action-row  *ngIf="!currentUserBlocks['02']">
      <button mat-flat-button class="slsp-purple-button" (click)="clear()" >
        <mat-icon inline=true>add</mat-icon>{{'Blocks.AddBlock' | translate}}
      </button>
    </mat-action-row>
  </mat-card-content>
</mat-card>


<!-- Wrong Address 03 -->
<mat-card>
  <mat-card-header>
    <mat-card-title>
      {{'Blocks.WrongAddress' | translate}}
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div *ngIf="currentUserBlocks['03']">
      {{'Blocks.CreatedOn' | translate}} {{getDateString(currentUserBlocks['03']['created_date'])}} <br>
      {{'Blocks.ExpiringOn' | translate}} {{getDateString(currentUserBlocks['03']['expiry_date'])}} <br>
      {{'Blocks.Note' | translate}}: {{currentUserBlocks['03']['block_note']}}
    </div>
    <div *ngIf="!currentUserBlocks['03']">
      <mat-form-field appearance="fill">
        <mat-label>Comment (optional)</mat-label>
        <input matInput #first>
      </mat-form-field>
    </div>
    <div  *ngIf="currentUserBlocks['03']">
      <br>
      <div class ="warning" *ngIf="currentUser.getIsExternal()">
        {{'Blocks.address-block-external-info' | translate}}
      </div>
      <div class="warning" *ngIf="!currentUser.getIsExternal()">
        {{'Blocks.address-block-internal-info' | translate}}
      </div>
    </div>
    <mat-action-row  *ngIf="!currentUserBlocks['03']">
      <button mat-flat-button class="slsp-purple-button" (click)="addUserBlock('03')">
        <mat-icon inline=true>add</mat-icon><span>{{'Blocks.AddBlock' | translate}}</span>
      </button>
    </mat-action-row>
  </mat-card-content>
</mat-card>
